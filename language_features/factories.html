<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Factories and Generators | Survive JavaScript - a Web Developer&#39;s Guide</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="bebraw">
        <meta name="description" content="Have you ever felt lost with JavaScript or felt that your skills could use a bit of sharpening? If so you found the right place!">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../language_features/properties.html" />
        
        
        <link rel="prev" href="../language_features/prototypes.html" />
        

        <meta property="og:title" content="Factories and Generators | Survive JavaScript - a Web Developer&#39;s Guide">
        <meta property="og:site_name" content="Survive JavaScript - a Web Developer&#39;s Guide">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/bebraw">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        
    <div class="book" data-github="bebraw/survive-js" data-level="3.8" data-basepath=".." data-revision="1397680531450">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/bebraw/survive-js" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/bebraw/survive-js/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/bebraw/survive-js/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >Survive JavaScript - a Web Developer&#39;s Guide</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/bebraw" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/bebraw/survive-js/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/bebraw/survive-js/edit/master/language_features/factories.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="a_misunderstood_language/README.html">
                
                <a href="../a_misunderstood_language/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> A Misunderstood Language?
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="a_misunderstood_language/how_to_characterize.html">
                            
                            <a href="../a_misunderstood_language/how_to_characterize.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> How to Characterize?
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="a_misunderstood_language/altjs.html">
                            
                            <a href="../a_misunderstood_language/altjs.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> AltJS
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="a_misunderstood_language/conclusion.html">
                            
                            <a href="../a_misunderstood_language/conclusion.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="current_state/README.html">
                
                <a href="../current_state/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Current State
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="current_state/might_run_on_toaster.html">
                            
                            <a href="../current_state/might_run_on_toaster.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Might Run on Toaster
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="current_state/there_are_apis.html">
                            
                            <a href="../current_state/there_are_apis.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> There are APIs and APIs
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="current_state/more_powerful.html">
                            
                            <a href="../current_state/more_powerful.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> More Powerful, More Standard
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="current_state/hope_for_newbies.html">
                            
                            <a href="../current_state/hope_for_newbies.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Still Hope for Newbies
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="current_state/es6.html">
                            
                            <a href="../current_state/es6.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> ES6 - The Future
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="current_state/conclusion.html">
                            
                            <a href="../current_state/conclusion.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="language_features/README.html">
                
                <a href="../language_features/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Language Features
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="language_features/functions.html">
                            
                            <a href="../language_features/functions.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Functions
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="language_features/globals.html">
                            
                            <a href="../language_features/globals.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Globals
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="language_features/partial.html">
                            
                            <a href="../language_features/partial.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> Partial Application
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="language_features/this.html">
                            
                            <a href="../language_features/this.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> What is `this`?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="language_features/call_and_apply.html">
                            
                            <a href="../language_features/call_and_apply.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> Understanding `call` and `apply`
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="language_features/arguments.html">
                            
                            <a href="../language_features/arguments.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> Arguments are Fun
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="language_features/prototypes.html">
                            
                            <a href="../language_features/prototypes.html">
                                <i class="fa fa-check"></i> <b>3.7.</b> Prototypes are Phun?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.8" data-path="language_features/factories.html">
                            
                            <a href="../language_features/factories.html">
                                <i class="fa fa-check"></i> <b>3.8.</b> Factories and Generators
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.9" data-path="language_features/properties.html">
                            
                            <a href="../language_features/properties.html">
                                <i class="fa fa-check"></i> <b>3.9.</b> Properties for Fun and Profit
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.10" data-path="language_features/data_types.html">
                            
                            <a href="../language_features/data_types.html">
                                <i class="fa fa-check"></i> <b>3.10.</b> Data Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.11" data-path="language_features/hoisting.html">
                            
                            <a href="../language_features/hoisting.html">
                                <i class="fa fa-check"></i> <b>3.11.</b> Hoist the Sails!
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.12" data-path="language_features/conclusion.html">
                            
                            <a href="../language_features/conclusion.html">
                                <i class="fa fa-check"></i> <b>3.12.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="common_problems/README.html">
                
                <a href="../common_problems/README.html">
                    <i class="fa fa-check"></i> <b>4.</b> Common Problems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="common_problems/globals.html">
                            
                            <a href="../common_problems/globals.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Globals and Other Nasties
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="common_problems/function_syntax.html">
                            
                            <a href="../common_problems/function_syntax.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Function Syntax is Cumbersome
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="common_problems/variables.html">
                            
                            <a href="../common_problems/variables.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Variables and Arguments are `undefined` by Default
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="common_problems/pyramid.html">
                            
                            <a href="../common_problems/pyramid.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Pyramid of Doom
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="common_problems/not_all_things.html">
                            
                            <a href="../common_problems/not_all_things.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Not All Things are Equal
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="common_problems/no_op_overloading.html">
                            
                            <a href="../common_problems/no_op_overloading.html">
                                <i class="fa fa-check"></i> <b>4.6.</b> No Operator Overloading
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="common_problems/nih.html">
                            
                            <a href="../common_problems/nih.html">
                                <i class="fa fa-check"></i> <b>4.7.</b> Not Invented Here
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="common_problems/conclusion.html">
                            
                            <a href="../common_problems/conclusion.html">
                                <i class="fa fa-check"></i> <b>4.8.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="modules/README.html">
                
                <a href="../modules/README.html">
                    <i class="fa fa-check"></i> <b>5.</b> Modules
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="modules/anti.html">
                            
                            <a href="../modules/anti.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> The Anti-Pattern
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="modules/concat.html">
                            
                            <a href="../modules/concat.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Concatenating to Victory
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="modules/amd.html">
                            
                            <a href="../modules/amd.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> AMD
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="modules/common.html">
                            
                            <a href="../modules/common.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> CommonJS
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.5" data-path="modules/umd.html">
                            
                            <a href="../modules/umd.html">
                                <i class="fa fa-check"></i> <b>5.5.</b> UMD
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.6" data-path="modules/es6.html">
                            
                            <a href="../modules/es6.html">
                                <i class="fa fa-check"></i> <b>5.6.</b> ES6
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.7" data-path="modules/package.html">
                            
                            <a href="../modules/package.html">
                                <i class="fa fa-check"></i> <b>5.7.</b> Package Managers
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.8" data-path="modules/conclusion.html">
                            
                            <a href="../modules/conclusion.html">
                                <i class="fa fa-check"></i> <b>5.8.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="testing/README.html">
                
                <a href="../testing/README.html">
                    <i class="fa fa-check"></i> <b>6.</b> Testing
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="testing/unit.html">
                            
                            <a href="../testing/unit.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Unit Testing
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="testing/generative.html">
                            
                            <a href="../testing/generative.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Generative Testing
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="testing/fibo.html">
                            
                            <a href="../testing/fibo.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> Fibonacci&#39;s Numbers Using `annotate`
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="testing/browser.html">
                            
                            <a href="../testing/browser.html">
                                <i class="fa fa-check"></i> <b>6.4.</b> Browser Testing
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="testing/conclusion.html">
                            
                            <a href="../testing/conclusion.html">
                                <i class="fa fa-check"></i> <b>6.5.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="development_tools/README.html">
                
                <a href="../development_tools/README.html">
                    <i class="fa fa-check"></i> <b>7.</b> Development Tools
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="development_tools/chrome.html">
                            
                            <a href="../development_tools/chrome.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Chrome Inspector and Firebug
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="development_tools/live.html">
                            
                            <a href="../development_tools/live.html">
                                <i class="fa fa-check"></i> <b>7.2.</b> LiveReload
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="development_tools/jslint.html">
                            
                            <a href="../development_tools/jslint.html">
                                <i class="fa fa-check"></i> <b>7.3.</b> JSLint and JSHint
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="development_tools/jsfiddle.html">
                            
                            <a href="../development_tools/jsfiddle.html">
                                <i class="fa fa-check"></i> <b>7.4.</b> jsFiddle, jsbin, jsdo.it and co.
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="development_tools/cloud9.html">
                            
                            <a href="../development_tools/cloud9.html">
                                <i class="fa fa-check"></i> <b>7.5.</b> Cloud9 IDE
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.6" data-path="development_tools/conclusion.html">
                            
                            <a href="../development_tools/conclusion.html">
                                <i class="fa fa-check"></i> <b>7.6.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="build_systems/README.html">
                
                <a href="../build_systems/README.html">
                    <i class="fa fa-check"></i> <b>8.</b> Build Systems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="build_systems/grunt.html">
                            
                            <a href="../build_systems/grunt.html">
                                <i class="fa fa-check"></i> <b>8.1.</b> Grunt
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="build_systems/conclusion.html">
                            
                            <a href="../build_systems/conclusion.html">
                                <i class="fa fa-check"></i> <b>8.2.</b> Conclusion
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="boilerplates/README.html">
                
                <a href="../boilerplates/README.html">
                    <i class="fa fa-check"></i> <b>9.</b> Boilerplates
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 38.983050847457626%;min-width: 37.28813559322034%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../a_misunderstood_language/README.html" title="A Misunderstood Language?" class="chapter done new-chapter" data-progress="1" style="left: 1.694915254237288%;"></a>
    
        <a href="../a_misunderstood_language/how_to_characterize.html" title="How to Characterize?" class="chapter done " data-progress="1.1" style="left: 3.389830508474576%;"></a>
    
        <a href="../a_misunderstood_language/altjs.html" title="AltJS" class="chapter done " data-progress="1.2" style="left: 5.084745762711864%;"></a>
    
        <a href="../a_misunderstood_language/conclusion.html" title="Conclusion" class="chapter done " data-progress="1.3" style="left: 6.779661016949152%;"></a>
    
        <a href="../current_state/README.html" title="Current State" class="chapter done new-chapter" data-progress="2" style="left: 8.474576271186441%;"></a>
    
        <a href="../current_state/might_run_on_toaster.html" title="Might Run on Toaster" class="chapter done " data-progress="2.1" style="left: 10.169491525423728%;"></a>
    
        <a href="../current_state/there_are_apis.html" title="There are APIs and APIs" class="chapter done " data-progress="2.2" style="left: 11.864406779661017%;"></a>
    
        <a href="../current_state/more_powerful.html" title="More Powerful, More Standard" class="chapter done " data-progress="2.3" style="left: 13.559322033898304%;"></a>
    
        <a href="../current_state/hope_for_newbies.html" title="Still Hope for Newbies" class="chapter done " data-progress="2.4" style="left: 15.254237288135593%;"></a>
    
        <a href="../current_state/es6.html" title="ES6 - The Future" class="chapter done " data-progress="2.5" style="left: 16.949152542372882%;"></a>
    
        <a href="../current_state/conclusion.html" title="Conclusion" class="chapter done " data-progress="2.6" style="left: 18.64406779661017%;"></a>
    
        <a href="../language_features/README.html" title="Language Features" class="chapter done new-chapter" data-progress="3" style="left: 20.338983050847457%;"></a>
    
        <a href="../language_features/functions.html" title="Functions" class="chapter done " data-progress="3.1" style="left: 22.033898305084747%;"></a>
    
        <a href="../language_features/data_types.html" title="Data Types" class="chapter done " data-progress="3.10" style="left: 23.728813559322035%;"></a>
    
        <a href="../language_features/hoisting.html" title="Hoist the Sails!" class="chapter done " data-progress="3.11" style="left: 25.423728813559322%;"></a>
    
        <a href="../language_features/conclusion.html" title="Conclusion" class="chapter done " data-progress="3.12" style="left: 27.11864406779661%;"></a>
    
        <a href="../language_features/globals.html" title="Globals" class="chapter done " data-progress="3.2" style="left: 28.8135593220339%;"></a>
    
        <a href="../language_features/partial.html" title="Partial Application" class="chapter done " data-progress="3.3" style="left: 30.508474576271187%;"></a>
    
        <a href="../language_features/this.html" title="What is `this`?" class="chapter done " data-progress="3.4" style="left: 32.20338983050848%;"></a>
    
        <a href="../language_features/call_and_apply.html" title="Understanding `call` and `apply`" class="chapter done " data-progress="3.5" style="left: 33.898305084745765%;"></a>
    
        <a href="../language_features/arguments.html" title="Arguments are Fun" class="chapter done " data-progress="3.6" style="left: 35.59322033898305%;"></a>
    
        <a href="../language_features/prototypes.html" title="Prototypes are Phun?" class="chapter done " data-progress="3.7" style="left: 37.28813559322034%;"></a>
    
        <a href="../language_features/factories.html" title="Factories and Generators" class="chapter done " data-progress="3.8" style="left: 38.983050847457626%;"></a>
    
        <a href="../language_features/properties.html" title="Properties for Fun and Profit" class="chapter  " data-progress="3.9" style="left: 40.67796610169491%;"></a>
    
        <a href="../common_problems/README.html" title="Common Problems" class="chapter  new-chapter" data-progress="4" style="left: 42.3728813559322%;"></a>
    
        <a href="../common_problems/globals.html" title="Globals and Other Nasties" class="chapter  " data-progress="4.1" style="left: 44.067796610169495%;"></a>
    
        <a href="../common_problems/function_syntax.html" title="Function Syntax is Cumbersome" class="chapter  " data-progress="4.2" style="left: 45.76271186440678%;"></a>
    
        <a href="../common_problems/variables.html" title="Variables and Arguments are `undefined` by Default" class="chapter  " data-progress="4.3" style="left: 47.45762711864407%;"></a>
    
        <a href="../common_problems/pyramid.html" title="Pyramid of Doom" class="chapter  " data-progress="4.4" style="left: 49.152542372881356%;"></a>
    
        <a href="../common_problems/not_all_things.html" title="Not All Things are Equal" class="chapter  " data-progress="4.5" style="left: 50.847457627118644%;"></a>
    
        <a href="../common_problems/no_op_overloading.html" title="No Operator Overloading" class="chapter  " data-progress="4.6" style="left: 52.54237288135593%;"></a>
    
        <a href="../common_problems/nih.html" title="Not Invented Here" class="chapter  " data-progress="4.7" style="left: 54.23728813559322%;"></a>
    
        <a href="../common_problems/conclusion.html" title="Conclusion" class="chapter  " data-progress="4.8" style="left: 55.932203389830505%;"></a>
    
        <a href="../modules/README.html" title="Modules" class="chapter  new-chapter" data-progress="5" style="left: 57.6271186440678%;"></a>
    
        <a href="../modules/anti.html" title="The Anti-Pattern" class="chapter  " data-progress="5.1" style="left: 59.32203389830509%;"></a>
    
        <a href="../modules/concat.html" title="Concatenating to Victory" class="chapter  " data-progress="5.2" style="left: 61.016949152542374%;"></a>
    
        <a href="../modules/amd.html" title="AMD" class="chapter  " data-progress="5.3" style="left: 62.71186440677966%;"></a>
    
        <a href="../modules/common.html" title="CommonJS" class="chapter  " data-progress="5.4" style="left: 64.40677966101696%;"></a>
    
        <a href="../modules/umd.html" title="UMD" class="chapter  " data-progress="5.5" style="left: 66.10169491525424%;"></a>
    
        <a href="../modules/es6.html" title="ES6" class="chapter  " data-progress="5.6" style="left: 67.79661016949153%;"></a>
    
        <a href="../modules/package.html" title="Package Managers" class="chapter  " data-progress="5.7" style="left: 69.49152542372882%;"></a>
    
        <a href="../modules/conclusion.html" title="Conclusion" class="chapter  " data-progress="5.8" style="left: 71.1864406779661%;"></a>
    
        <a href="../testing/README.html" title="Testing" class="chapter  new-chapter" data-progress="6" style="left: 72.88135593220339%;"></a>
    
        <a href="../testing/unit.html" title="Unit Testing" class="chapter  " data-progress="6.1" style="left: 74.57627118644068%;"></a>
    
        <a href="../testing/generative.html" title="Generative Testing" class="chapter  " data-progress="6.2" style="left: 76.27118644067797%;"></a>
    
        <a href="../testing/fibo.html" title="Fibonacci&#39;s Numbers Using `annotate`" class="chapter  " data-progress="6.3" style="left: 77.96610169491525%;"></a>
    
        <a href="../testing/browser.html" title="Browser Testing" class="chapter  " data-progress="6.4" style="left: 79.66101694915254%;"></a>
    
        <a href="../testing/conclusion.html" title="Conclusion" class="chapter  " data-progress="6.5" style="left: 81.35593220338983%;"></a>
    
        <a href="../development_tools/README.html" title="Development Tools" class="chapter  new-chapter" data-progress="7" style="left: 83.05084745762711%;"></a>
    
        <a href="../development_tools/chrome.html" title="Chrome Inspector and Firebug" class="chapter  " data-progress="7.1" style="left: 84.7457627118644%;"></a>
    
        <a href="../development_tools/live.html" title="LiveReload" class="chapter  " data-progress="7.2" style="left: 86.44067796610169%;"></a>
    
        <a href="../development_tools/jslint.html" title="JSLint and JSHint" class="chapter  " data-progress="7.3" style="left: 88.13559322033899%;"></a>
    
        <a href="../development_tools/jsfiddle.html" title="jsFiddle, jsbin, jsdo.it and co." class="chapter  " data-progress="7.4" style="left: 89.83050847457628%;"></a>
    
        <a href="../development_tools/cloud9.html" title="Cloud9 IDE" class="chapter  " data-progress="7.5" style="left: 91.52542372881356%;"></a>
    
        <a href="../development_tools/conclusion.html" title="Conclusion" class="chapter  " data-progress="7.6" style="left: 93.22033898305085%;"></a>
    
        <a href="../build_systems/README.html" title="Build Systems" class="chapter  new-chapter" data-progress="8" style="left: 94.91525423728814%;"></a>
    
        <a href="../build_systems/grunt.html" title="Grunt" class="chapter  " data-progress="8.1" style="left: 96.61016949152543%;"></a>
    
        <a href="../build_systems/conclusion.html" title="Conclusion" class="chapter  " data-progress="8.2" style="left: 98.30508474576271%;"></a>
    
        <a href="../boilerplates/README.html" title="Boilerplates" class="chapter  new-chapter" data-progress="9" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_43">
                    
                        <h1 id="factories-and-generators">Factories and Generators</h1>
<p>If you have used <code>Java</code> you have likely seen the joke about <code>AbstractSingletonProxyFactoryBean</code>. As it happens factories are actually an interesting way to construct specialized objects. JavaScript&#39;s closures enable us to create factories quite easily. This allows us to implement a pattern known as generator. In Python or some other language you might have bumped into <code>yield</code> keyword. That&#39;s what we&#39;re going to effectively implement next.</p>
<p>A generator is quite a simple thing really. It is just something that gives us a value when we poke it correctly. Let&#39;s get started with something very simple and generalize that later. The simplest possible generator I can think of generates just a series of same values (say 42). Here&#39;s an implementation of this particular case.</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">numberGenerator</span><span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">return</span> {
        next: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;
        }
    };
}

<span class="hljs-keyword">var</span> gen = numberGenerator();
console.log(gen.next(), gen.next()); <span class="hljs-comment">// -&gt; 42 42</span>
</code></pre>
<p>As you can see we can get a nice series of 42&#39;s right now. That is only part of the story, though. We could parametrize the function as you might not want a 42 always. We could also take it a step further and make it use some rule. Let&#39;s say we want to get a series of n^2. Time to code!</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">powerGenerator</span><span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">return</span> {
        next: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">var</span> ret = <span class="hljs-built_in">Math</span>.pow(i, <span class="hljs-number">2</span>);

            i++;

            <span class="hljs-keyword">return</span> ret;
        }
    };
}

<span class="hljs-keyword">var</span> gen = powerGenerator();
console.log(gen.next(), gen.next(), gen.next()); <span class="hljs-comment">// -&gt; 0 1 4</span>
</code></pre>
<p>This example shows us the power of closures. As you can see, we store <code>i</code> at the outer scope of the object we actually operate on. It seems kind of trivial but it is one of those features of JavaScript it really pays off to understand as it allows us to implement all sorts of nifty little patterns such as this quite easily.</p>
<p>You can take the approach even further and generalize it. Since we might not want to operate on <code>pow</code> or squares always, we probably should define some sort of factory. I have done this below. As a bonus there&#39;s a cyclic one.</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generator</span><span class="hljs-params">(valueCb, initial)</span> {</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
        <span class="hljs-keyword">var</span> i = initial || <span class="hljs-number">0</span>;

        <span class="hljs-keyword">return</span> {
            next: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
                <span class="hljs-keyword">var</span> ret = valueCb(i);

                i++;

                <span class="hljs-keyword">return</span> ret;
            }
        };
    }();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cycle</span><span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">var</span> items = <span class="hljs-built_in">arguments</span>;

    <span class="hljs-keyword">return</span> generator(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(i)</span> {</span>
        <span class="hljs-keyword">return</span> items[i % items.length];
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pows</span><span class="hljs-params">(n, initial)</span> {</span>
    <span class="hljs-keyword">return</span> generator(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(i)</span> {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.pow(i, n);
    }, initial);
}

<span class="hljs-keyword">var</span> color = cycle(<span class="hljs-string">'red'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'blue'</span>); <span class="hljs-comment">// red, green, blue, red, green, ...</span>

<span class="hljs-keyword">var</span> nums = pows(<span class="hljs-number">1</span>); <span class="hljs-comment">// 0, 1, 2, 3, ...</span>
<span class="hljs-keyword">var</span> squares = pows(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// 4, 9, ...</span>
<span class="hljs-keyword">var</span> cubes = pows(<span class="hljs-number">3</span>); <span class="hljs-comment">// 0, 1, 8, 27, 64, ...</span>
</code></pre>
<p>I hope this example gave you some idea of the power of generators and factories. I know that especially the generator pattern isn&#39;t used a lot but at least it makes a perfect excuse of an example and helps you understand a bit about closures.</p>
<p>One problem of the approach has to do with the <code>next</code> method. It doesn&#39;t sit that well with existing iterators. You will likely need to implement some custom ones to deal with that. On the other hand the approach is lazy by definition. So no computation will be done unless you really mean it. Overall it is just one example of how to program <code>into</code> language rather than <code>in</code> language to quite McConnell of <code>Code Complete</code> fame.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../language_features/prototypes.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../language_features/properties.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
